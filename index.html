<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Wheel & Grup</title>
<style>
body {
  font-family: "Segoe UI", Arial, sans-serif;
  margin: 0;
  background: #021027;
  color: #fff;
  overflow: hidden;
}
.overlay-container {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 35vh;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  display: flex;
  justify-content: space-around;
  align-items: center;
}
.group {
  background: rgba(0,0,0,0.5);
  padding: 10px;
  border-radius: 10px;
  width: 180px;
}
.group h3 { margin-top: 0; color: #ff0; text-align:center; }
</style>
</head>
<body>
<h2 style="text-align:center;">ðŸŽ¯ Wheel of Teams</h2>
<canvas id="wheel" width="400" height="400" style="display:block;margin:0 auto;"></canvas>

<div class="overlay-container" id="overlayContainer">
  <div id="groupA" class="group"><h3>Grup A</h3><ul></ul></div>
  <div id="groupB" class="group"><h3>Grup B</h3><ul></ul></div>
  <div id="groupC" class="group"><h3>Grup C</h3><ul></ul></div>
  <div id="groupD" class="group"><h3>Grup D</h3><ul></ul></div>
</div>

<script>
const groups = ["A","B","C","D"];
let teams = JSON.parse(localStorage.getItem("wheelTeams")) || [
  "Team A","Team B","Team C","Team D","Team E","Team F","Team G","Team H"
];
let bg = localStorage.getItem("groupBackground");

// ðŸ”¹ Terapkan background dari localStorage (tanpa biru transparan)
const overlay = document.getElementById("overlayContainer");
if (bg) {
  overlay.style.backgroundImage = `url('${bg}')`;
  overlay.style.backgroundColor = "transparent";
} else {
  overlay.style.backgroundImage = "none";
  overlay.style.backgroundColor = "#003399"; // fallback biru solid
}

// ðŸ”¹ Render grup dari localStorage
groups.forEach(g => {
  const list = document.querySelector(`#group${g} ul`);
  const data = JSON.parse(localStorage.getItem(`group${g}`)) || [];
  list.innerHTML = data.map(t => `<li>${t}</li>`).join("");
});

// ðŸ”¹ Gambar wheel sederhana berdasarkan tim
const canvas = document.getElementById("wheel");
const ctx = canvas.getContext("2d");
const total = teams.length;
const angle = (2 * Math.PI) / total;

teams.forEach((team, i) => {
  const start = i * angle;
  const end = start + angle;
  ctx.beginPath();
  ctx.moveTo(200,200);
  ctx.arc(200,200,150,start,end);
  ctx.fillStyle = `hsl(${i * (360 / total)}, 70%, 50%)`;
  ctx.fill();
  ctx.save();
  ctx.translate(200,200);
  ctx.rotate(start + angle / 2);
  ctx.textAlign = "right";
  ctx.fillStyle = "#fff";
  ctx.font = "16px Arial";
  ctx.fillText(team, 140, 5);
  ctx.restore();
});
</script>
</body>
</html>
